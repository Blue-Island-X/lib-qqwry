#!/usr/bin/env node

const program = require('commander');
const chalk = require('chalk');
const qqwry = require('../');

program
	.option('-v, --version', '当前版本信息')
	.usage('<command> [options]')
	.command('update', '更新IP库(qqwry.dat)')
	.command('remote', '获取最新IP库信息').alias('last')
	.command('search', '搜索IP/IP段  默认命令,你可以使用 ', {isDefault: true}).alias('ip')
	
//版本
program.on('option:version', function() {
	let v_lib = require('../package').version;
	let v_data = qqwry().searchIP('255.255.255.255').Area;
	console.log(`v${v_lib}`,`(Data: ${chalk.bold(v_data)})`);
	process.exit(0);
});

// if(process.argv.length < 3){
// 	program.help();
// }

program.parse(process.argv);

// if(program.args.length < 1){
// 	program.help();
// }